@import 'components/common/no-result';
@import 'components/common/loading';
@import 'components/announcement/tags';

// component
// `.announcement`
@mixin announcement () {
  // block
  // `> .announcement`
  > .announcement {
    // [ variable ]
    $large: 768px;

    // element
    // `> .announcement > .announcement__title`
    > .announcement__title {
      // [ layout ]
      display: flex;

      // [ skin ]
      line-height: 1rem;
      font: {
        size: .55rem;
        weight: bold;
      }

      // [ before ]
      // Yellow flag icon.
      &::before {
        // [ variable ]
        $size: 1rem;

        // [ skin ]
        content: '';
        margin-right: .4rem;
        border: {
          style: solid;
          color: #f5c150 #f5c150 transparent;
          radius: ( $size * .1 ) ( $size * .1 ) 0 0;
          width: ( $size * .8 ) ( $size * .35 ) ( $size * .16 );
        }
      }
    }

    // element
    // `> .announcement > .announcement__no-result`
    // block
    // `> .announcement > .no-result`
    > .announcement__no-result {
      @include no-result();
    }

    // element
    // `> .announcement > .announcement__loading`
    // block
    // `> .announcement > .loading`
    > .announcement__loading {
      @include loading();
    }

    // element
    // `> .announcement > .announcement__briefings`
    // block
    // `> .announcement > .briefings`
    > .announcement__briefings.briefings {
      // [ skin ]
      margin-top: .7rem;

      // element
      // `> .announcement .briefings > briefings__briefing`
      // block
      // `> .announcement .briefings > briefing`
      > .briefings__briefing.briefing {
        // [ layout ]
        display: grid;
        grid-template: {
          areas:
            'briefing__tags  briefing__tags  briefing__tags'
            'briefing__title briefing__title briefing__title'
            'briefing__time  briefing__time  .';
          rows: auto;
          columns: 13fr 2fr 5fr;
        }

        // [ skin ]
        margin-bottom: .4rem;
        border-radius: .188rem;
        padding: .5rem .4rem;
        background-color: #ffffff;
        box-shadow: 0 .0625rem .75rem 0 rgba( 0, 0, 0, .14 ), 0 .25rem .312rem 0 rgba( 0, 0, 0, .2 );

        // [ interaction ]
        &:hover {
          // [ skin ]
          cursor: pointer;
        }

        // [ RWD: $large ]
        @media screen and ( min-width: $large ) {
          // [ layout ]
          grid-template-areas:
            'briefing__tags    briefing__tags  briefing__tags'
            'briefing__title   briefing__title .'
            'briefing__article .               briefing__time';

          // [ skin ]
          padding: .8rem 1rem;
        }

        // element
        // `> .announcement > .briefings > briefing > .briefing__tags`
        // block
        // `> .announcement > .briefings > briefing > .tags`
        > .briefing__tags {
          @include tags() {
            // [ position ]
            grid-area: briefing__tags;

            // [ layout ]
            display: block;

            // [ skin ]
            font-size: .4375rem;
          }
        }

        // element
        // `> .announcement > .briefings > .briefong > .briefing__title`
        > .briefing__title {
          // [ position ]
          grid-area: briefing__title;

          // [ layout ]
          word-wrap: break-word;

          // [ skin ]
          margin-bottom: .9rem;
          color: #000000;
          font: {
            size: .5rem;
            weight: normal;
          }

          // [ RWD: $large ]
          @media screen and ( min-width: $large ) {
            // [ skin ]
            margin-bottom: 0;
            font-weight: bold;
          }
        }

        // element
        // `> .announcement > .briefings > .briefing > .briefing__article`
        > .briefing__article {
          // [ layout ]
          display: none;

          // [ RWD: $large ]
          @media screen and ( min-width: $large ) {
            // [ position ]
            grid-area: briefing__article;

            // [ layout ]
            display: block;
            white-space: nowrap;

            // [ skin ]
            overflow: hidden;
            text-overflow: ellipsis;
            font-size: .4375rem;
          }
        }

        // element
        // `> .announcement > .briefings > .briefing > .briefing__time`
        > .briefing__time {
          // [ position ]
          grid-area: briefing__time;

          // [ skin ]
          color: #b5babf;
          font-size: .4375rem;

          // [ RWD: $large ]
          @media screen and ( min-width: $large ) {
            // [ position ]
            justify-self: end;
            align-self: end;

            // [ skin ]
            color: #b5babf;
          }
        }
      }
    }

    // [ customization ]
    @content;
  }
}
